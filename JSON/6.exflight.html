<script>
    var  flights=[
        {"flightsid":"AI100","source":"Mumbai","destination":'New Delhi',
        "seats":70,"arrival":"10:40 AM","departure":"11:00 AM",
        "days":"TTS","logo":"ai.png","companyname":"Air India"},
        {"flightsid":"SP119","source":"Mumbai","destination":'New Delhi',
        "seats":90,"arrival":"12:40 PM","departure":"1:00 PM",
        "days":"Daily","logo":"spj.png","companyname":"Spice Jet"},
        {"flightsid":"SP134","source":"Goa","destination":'New Delhi',
        "seats":120,"arrival":"6:00 AM","departure":"7:00 AM",
        "days":"Daily","logo":"spj.png","companyname":"Spice Jet"},
        {"flightsid":"IND23","source":"Udaipur","destination":'Pune',
        "seats":90,"arrival":"18:00 PM","departure":"18:40 PM",
        "days":"TFS","logo":"ind.png","companyname":"Indigo"}]   //---->json array


    function showFlights(data)
    {
        var htm=`<table border="1" cellspacing="0" width="50%">`
          htm+=`<caption><h3>List of Flights</h3></caption>`
          htm+=`<tr><th>Flight Id</th><th>Source</th><th>Destination</th><th>Seats</th><th>Arrival</th><th>Departure</th><th>Days</th><th>Logo</th></tr>`
          data.map((item,index)=>{
          htm+=`<tr><td>${item.flightsid}</td><td>${item.source}</td><td>${item.destination}</td><td>${item.seats}</td><td>${item.arrival}</td><td>${item.departure}</td><td>${item.days}</td><th><img src='${item.logo}' width='50' height='50'></th></tr>`
          })    
         htm+=`</table>`
         result.innerHTML=htm
    }


    function call()
    {
        //result.innerHTML=FLIGHT[1].source
        showFlights(flights)    
    }

    function searchFlights()
    {
        var sd=txt.value
        var newflights=flights.filter((item)=>{
            return item.source.toLowerCase().includes(sd.toLowerCase()) || item.destination.toLowerCase().includes(sd.toLowerCase())
        })
        showFlights(newflights)
    }

    function byCompany()
    {
        var str=''
        if(ai.checked)
        {str+=ai.value+" "}
        if(sj.checked)
        {str+=sj.value+" "}
        if(ind.checked)
        {str+=ind.value+" "}
        if(str.length==0)
        {showFlights(flights)}
        else
        {
            newflights=flights.filter((item)=>{
                return str.toLowerCase().includes(item.companyname.toLowerCase())
            })
            showFlights(newflights)
        }
    }
</script>
<html>
    <body onload="call()">
        <br><br><br>
        <center>
            <input type="text" size="80" placeholder="Search Flights" id="txt" onkeyup="searchFlights()"><br><br>
            <input type="checkbox" id="ai" value="Air India" onchange="byCompany()">Air India
            <input type="checkbox" id="sj" value="Spice Jet" onchange="byCompany()">Spice Jet
            <input type="checkbox" id="ind" value="Indigo" onchange="byCompany()">Indigo
            <div id="result"></div>
        </center>
    </body>   
</html>